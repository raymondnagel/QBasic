COMMON GAMEFILE, X, Y, MX, MY, NAME$, PLANET$, ITEM$
SCREEN 13: CLS
C = 295: D = 160
A = 30: B = 180
PHASER = 1000: PHASER2 = 1000: MIK = 1: ADV = 2
DRAW "BM12,5C11R3DRD2GL3HU2RBDP13,11BD3C11LDLDRU RERGDE2DBD3UC12RUBM-4,+1LDRBU2C3D0BM-2,+1C8D0 BR3FU2RBR2RBM-5,+2C11G C3R3FC11D2GU3 L3FDGU2GLC12D2EDBR4R2ULBM-5,-10GUC8D0"
DIM MIKESTANDR(1 TO 500)
GET (10, 5)-(18, 20), MIKESTANDR
DRAW "BM32,5C11R3DRD2GL3HU2RBDP13,11BD3C11LDLDRU RERGDE2DBD3UC12RUBM-4,+1LDRBU2C3D0BM-2,+1C8D0 BR3FU2RBR2RBM-5,+2C11G  C3R3 DC11RD2HD2H3RGD3C12R2ULUBM-2,-9GUC8D0"
DIM MIKESTEPR(1 TO 500)
GET (30, 5)-(38, 20), MIKESTEPR

DRAW "BM52,5C11L3DLD2FR3EU2LBDP13,11BD3C11RDRDLU LHLFDH2DBD3UC12LUBM+4,+1RDLBU2C3D0BM+2,+1C8D0 BL3GU2LBL2LBM+5,+2C11F C3L3GC11D2FU3 R3GDFU2FRC12D2HDBL4L2URBM+5,-10FUC8D0"
DIM MIKESTANDL(1 TO 500)
GET (54, 5)-(45, 20), MIKESTANDL
DRAW "BM72,5C11L3DLD2FR3EU2LBDP13,11BD3C11RDRDLU LHLFDH2DBD3UC12LUBM+4,+1RDLBU2C3D0BM+2,+1C8D0 BL3GU2LBL2LBM+5,+2C11F C3L3 DC11LD2ED2E3LFD3C12L2URUBM+2,-9FUC8D0"
DIM MIKESTEPL(1 TO 500)
GET (74, 5)-(65, 20), MIKESTEPL
LINE (54, 5)-(45, 20), 9, B
LINE (74, 5)-(65, 20), 9, B

DRAW "BM50,50C12D1R1U1D4BR6U4R1D1BD4BR1C6L10R5D1U1R5D2L2D1L2R4D1L3D1R3L10U4D1R2D1L1R3L1D1L2D3L1U1R2D1R8U1L3C4L4C1BU5L2R3D1BR2U1R3BD1BL4C12D2L1R2BR1BU2C12D0BL4D0BL4C3L2D1R2BR12R2U1"
DRAW "L2BL4BU7C10GHGHBD13BR1C12R2D1L2D1L2R6D2R1D2R1U3L10D3R1U2R6D1L4D1R4D1L4D1R4BD2L4D1R4D1L4D1R4D1L4D1R4G1L2BD1C3R2L1D3BU11BL4C6U2L1D1L1D1BR10U2R1D1R1D1BL4L4BD13D2R4U2L3U1D4R2U4L1BD2C12D0"
DIM ADVERSARY(1 TO 1000)
DIM HEAD(1 TO 200)
GET (46, 50)-(62, 88), ADVERSARY
GET (46, 50)-(62, 63), HEAD
CLS
LINE (0, 144)-(319, 144), 15
LINE (0, 145)-(319, 199), 4, BF

FOR STARZ = 1 TO 40: RANDOMIZE TIMER: H = INT(RND * 320) + 1: V = INT(RND * 142) + 1: PSET (H, V), 15: NEXT STARZ
FOR STARZ = 1 TO 40: RANDOMIZE TIMER: H = INT(RND * 320) + 1: V = INT(RND * 142) + 1: PSET (H, V), 8: NEXT STARZ
FOR STARZ = 1 TO 40: RANDOMIZE TIMER: H = INT(RND * 320) + 1: V = INT(RND * 142) + 1: PSET (H, V), 7: NEXT STARZ

FOR MARKZ = 1 TO 20: RANDOMIZE TIMER: H = INT(RND * 320) + 1: V = INT(RND * 55) + 145: PSET (H, V), 15: NEXT MARKZ

STANCE$ = "STAND": FACE$ = "RIGHT": PUT (A, B - 15), MIKESTANDR, XOR
PUT (C, D), ADVERSARY, XOR
ON KEY(1) GOSUB PHASER
ON KEY(11) GOSUB UP
ON KEY(12) GOSUB LEFT
ON KEY(13) GOSUB RIGHT
ON KEY(14) GOSUB DOWN

DO
KEY(0) ON: FOR DELAY = 1 TO 40: NEXT DELAY: KEY(0) STOP
ENEMY:
IF ADV = 1 THEN GOTO HEADONLY:
RANDOMIZE TIMER: PUT (C, D), ADVERSARY, XOR
IF ROLL = 12 THEN ROLL = 0
IF ROLL = 1 THEN D = D + 2
IF ROLL = 10 THEN D = D - 2
IF C < A THEN C = C + 2
IF C > A THEN C = C - 2
IF INT(RND * 10) = 9 THEN D = D + 4
IF INT(RND * 10) = 9 THEN D = D - 4

IF D >= 160 THEN D = 160
IF D <= 150 THEN D = 150
IF C >= 300 THEN C = 300
IF C <= 0 THEN C = 2
PUT (C, D), ADVERSARY, XOR
ROLL = ROLL + 1
IF C >= A - 3 AND C <= A + 3 AND B >= D THEN GOTO LOSE

MIKEFIRE:
IF PHASER = 1000 THEN GOTO RES
PSET (PHASER, FOCUS), 4: IF DISTANCE <= 0 THEN PHASER = 1000: GOTO RES
IF PHASER <= 0 OR PHASER >= 319 THEN PHASER = 1000: GOTO RES
PHASER = PHASER + DIRECT
IF POINT(PHASER, FOCUS) <> 4 THEN GOSUB BOOM
PSET (PHASER, FOCUS), 0: DISTANCE = DISTANCE - 1
IF PHASER <= C + 17 AND PHASER >= C - 1 AND FOCUS <= D + 40 AND FOCUS >= D + 30 THEN GOSUB BOOM
RES:
IF JUMP = 14 THEN JUMP = 0
LOOP UNTIL INKEY$ = ""
CLS : SYSTEM


HEADONLY:
PUT (C, D), HEAD, XOR
IF JUMP >= 4 THEN GOTO VERTICAL
IF JUMP = 0 THEN IF INT(RND * 3) = 0 THEN JUMP = 4: GOTO VERTICAL
HORIZONTAL:
IF JUMP = 0 THEN IF C < A THEN C = C + 5: D = D - 10
IF JUMP = 1 THEN IF C < A THEN C = C + 5
IF JUMP = 2 THEN IF C < A THEN C = C + 5: D = D + 7
IF JUMP = 0 THEN IF C > A THEN C = C - 5: D = D - 10
IF JUMP = 1 THEN IF C > A THEN C = C - 5
IF JUMP = 2 THEN IF C > A THEN C = C - 5: D = D + 7
GOTO ONEWAY
VERTICAL:
IF JUMP = 4 THEN IF D < B - 9 THEN D = D + 5
IF JUMP = 5 THEN IF D < B - 9 THEN D = D + 5
IF JUMP = 6 THEN IF D < B - 9 THEN D = D + 1
IF JUMP = 4 THEN IF D > B - 9 THEN D = D - 5
IF JUMP = 5 THEN IF D > B - 9 THEN D = D - 5
IF JUMP = 6 THEN IF D > B - 9 THEN D = D + 1
ONEWAY:
IF C <= 2 THEN C = 4
IF C >= 307 THEN C = 305
IF D <= 145 THEN D = 146
IF D >= 186 THEN D = 185
PUT (C, D), HEAD, XOR
IF C <= A + 5 AND C >= A - 5 AND D <= B - 5 AND D >= B - 15 THEN GOTO LOSE
JUMP = JUMP + 1
IF JUMP = 3 OR JUMP = 7 THEN JUMP = 10
GOTO MIKEFIRE
PHASER:
IF PHASER <> 1000 THEN RETURN
KEY(0) OFF
IF FACE$ = "RIGHT" THEN DIRECT = 6: PHASER = A + 10: IF MID$(ITEM$, 4, 1) = "1" THEN DIRECT = 12
IF FACE$ = "LEFT" THEN DIRECT = -6: PHASER = A - 1: IF MID$(ITEM$, 4, 1) = "1" THEN DIRECT = -12
ON PLAY(25) GOSUB SHOT1: PLAY ON
PLAY "T255L64MBO2CDEFGABO4CDEFGABO6CDEFGAB"
SHOT1: PLAY OFF
FOCUS = B - 8: DISTANCE = 12: IF MID$(ITEM$, 4, 1) = "1" THEN DISTANCE = 400
KEY(0) ON: RETURN

BOOM:
KEY(0) OFF
IF ADV = 2 THEN IF PHASER <= C + 17 AND PHASER >= C - 1 AND FOCUS <= D + 40 AND FOCUS >= D - 1 THEN ADV = 1: GOTO BLOWROBOT
IF ADV = 1 THEN IF PHASER <= C + 17 AND PHASER >= C - 1 AND FOCUS <= D + 14 AND FOCUS >= D - 1 THEN ADV = 0
IF PHASER <= A + 10 AND PHASER >= A - 10 AND FOCUS <= B + 10 AND FOCUS >= B - 10 THEN MIK = 0
CIRCLE (PHASER, FOCUS), 10, 14: PAINT (PHASER, FOCUS), 10, 14
CIRCLE (PHASER, FOCUS), 10, 10: PAINT (PHASER, FOCUS), 10, 10
CIRCLE (PHASER, FOCUS), 10, 4: PAINT (PHASER, FOCUS), 4, 4
ON PLAY(25) GOSUB EXPLODE1: PLAY ON
PLAY "T255L64MBO2DBF<DBF<DBF>DBF<DBF"
EXPLODE1: PLAY OFF
LINE (PHASER - 5, FOCUS - 5)-(PHASER + 5, FOCUS + 5), 4, BF
IF MIK = 0 THEN FOR DELAY = 1 TO 1000: NEXT DELAY: GOTO LOSE
IF ADV = 0 THEN FOR DELAY = 1 TO 1000: NEXT DELAY: GOTO WIN
DONE: PHASER = 1000: KEY(0) ON: RETURN

BLOWROBOT:
CIRCLE (C + 8, D + 32), 10, 14: PAINT (C + 8, D + 32), 10, 14
CIRCLE (C + 8, D + 32), 10, 10: PAINT (C + 8, D + 32), 10, 10
CIRCLE (C + 8, D + 32), 10, 4: PAINT (C + 8, D + 32), 4, 4
ON PLAY(25) GOSUB EXPLODEA: PLAY ON
PLAY "T255L64MBO2DBF<DBF<DBF>DBF<DBF"
EXPLODEA: PLAY OFF
CIRCLE (C + 8, D + 23), 10, 14: PAINT (C + 8, D + 23), 10, 14
CIRCLE (C + 8, D + 23), 10, 10: PAINT (C + 8, D + 23), 10, 10
CIRCLE (C + 8, D + 23), 10, 4: PAINT (C + 8, D + 23), 4, 4
ON PLAY(25) GOSUB EXPLODEB: PLAY ON
PLAY "T255L64MBO2DBF<DBF<DBF>DBF<DBF"
EXPLODEB: PLAY OFF
LINE (C - 1, D - 1)-(C + 17, D + 38), 4, BF
PUT (C, D), HEAD, XOR
GOTO DONE







WALK:
IF STANCE$ = "STAND" THEN STANCE$ = "STEP": RETURN
IF STANCE$ = "STEP" THEN STANCE$ = "STAND": RETURN

STANCE:
IF FACE$ = "LEFT" AND STANCE$ = "STAND" THEN PUT (A, B - 15), MIKESTANDL, XOR
IF FACE$ = "LEFT" AND STANCE$ = "STEP" THEN PUT (A, B - 15), MIKESTEPL, XOR
IF FACE$ = "RIGHT" AND STANCE$ = "STAND" THEN PUT (A, B - 15), MIKESTANDR, XOR
IF FACE$ = "RIGHT" AND STANCE$ = "STEP" THEN PUT (A, B - 15), MIKESTEPR, XOR
RETURN

UP: KEY(0) OFF
GOSUB STANCE
IF MID$(ITEM$, 2, 1) = "1" THEN B = B - 2
B = B - 2: IF B <= 160 THEN B = 160
GOSUB WALK
GOSUB STANCE
KEY(0) ON: RETURN

LEFT: KEY(0) OFF
GOSUB STANCE
FACE$ = "LEFT"
IF MID$(ITEM$, 2, 1) = "1" THEN A = A - 4
A = A - 4: IF A <= 2 THEN A = 4
GOSUB WALK
GOSUB STANCE
KEY(0) ON: RETURN

RIGHT: KEY(0) OFF
GOSUB STANCE
FACE$ = "RIGHT"
IF MID$(ITEM$, 2, 1) = "1" THEN A = A + 4
A = A + 4: IF A >= 311 THEN A = 311
GOSUB WALK
GOSUB STANCE
KEY(0) ON: RETURN

DOWN: KEY(0) OFF
GOSUB STANCE
IF MID$(ITEM$, 2, 1) = "1" THEN B = B + 2
B = B + 2: IF B >= 198 THEN B = 196
GOSUB WALK
GOSUB STANCE
KEY(0) ON: RETURN

WIN:
CLS
PRINT "YEAH!"
SOUND 1000, 2: SOUND 800, 1: SOUND 1000, 5
FOR SUSPEND = 1 TO 2000
BABBLE$ = INKEY$
NEXT SUSPEND
CHAIN "SATURN.BAS"

LOSE:
CLS
PRINT "#@$!@"
SOUND 500, 2: SOUND 800, 1: SOUND 500, 5
FOR SUSPEND = 1 TO 2000
BABBLE$ = INKEY$
NEXT SUSPEND
CHAIN "LOSE.BAS"


