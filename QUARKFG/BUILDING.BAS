COMMON GAMEFILE, X, Y, MX, MY, NAME$, PLANET$, ITEM$
SCREEN 12: CLS
DRAW "BM50,50BR1C6R2F1D1G1L2H1U1BR1P0,6C6BF3L4G1R2D1L3R8G1R1C1BR1D1L1BL8L1U1C6BR1R1BR2R2D1L2C1BH1G1R1D1C8BR1R2C1BR1U1R1H1BU2C6R1C1BU1D0BL6D0BD10BL1R3U1L2BR4R2F1L3BU2C6U2R1D2BL3U2L1D2BR3BU7C8D0BLC15D0"
DIM ASTRONAUT(1 TO 200): GET (42, 50)-(57, 64), ASTRONAUT
DRAW "BM100,100C15D30R15U30L14BD29BR12P14,15BU14C15LDR"
DIM DOOR(1 TO 500): GET (100, 100)-(115, 130), DOOR



CLS
IF MID$(PLANET$, 15, 2) = "13" AND MX = 10 AND MY = 2 THEN GOTO EARTHHQ

EARTHHQ:
EX = MX: EY = MY

'VERT
LINE (374, 54)-(494, 174), 8, BF
FOR LINEZ = 374 TO 494 STEP 40
LINE (LINEZ, 54)-(LINEZ, 174), 6
NEXT LINEZ
'HORZ
FOR LINEZ = 54 TO 174 STEP 40
LINE (374, LINEZ)-(494, LINEZ), 6
NEXT LINEZ
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
PUT (427, 100), DOOR, XOR
LOCATE 28, 3: COLOR 9: PRINT "RADAR SCAN:"

ON KEY(11) GOSUB UP
ON KEY(12) GOSUB LEFT
ON KEY(13) GOSUB RIGHT
ON KEY(14) GOSUB DOWN
KEY(0) ON
LOCATE 28, 15: COLOR 7: PRINT "NOTHING HERE                                                      "


DO
LOOP UNTIL INKEY$ = ""
CHAIN "LOSE.BAS"


UP:
IF MY = 0 THEN RETURN
IF POINT((MX * 40) + 24, ((MY * 40) + 28) - 40) = 0 THEN RETURN
KEY(0) OFF
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
MY = MY - 1
PLAY "T200L40O2MBCED"
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
GOSUB RADAR
KEY(0) ON: RETURN

LEFT:
IF MX = 0 THEN RETURN
IF POINT(((MX * 40) + 24) - 40, (MY * 40) + 28) = 0 THEN RETURN
KEY(0) OFF
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
MX = MX - 1
PLAY "T200L40O2MBCED"
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
GOSUB RADAR
KEY(0) ON: RETURN

RIGHT:
IF MX = 14 THEN RETURN
IF POINT(((MX * 40) + 24) + 40, (MY * 40) + 28) = 0 THEN RETURN
KEY(0) OFF
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
MX = MX + 1
PLAY "T200L40O2MBCED"
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
GOSUB RADAR
KEY(0) ON: RETURN

DOWN:
IF MY = 9 THEN RETURN
IF POINT((MX * 40) + 24, ((MY * 40) + 28) + 40) = 0 THEN RETURN
KEY(0) OFF
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
MY = MY + 1
PLAY "T200L40O2MBCED"
PUT ((MX * 40) + 24, (MY * 40) + 28), ASTRONAUT, XOR
GOSUB RADAR
KEY(0) ON: RETURN

RADAR:
LOCATE 28, 15: COLOR 7
IF MX = EX AND EY = 2 THEN PRINT "EXITING EARTH'S HEADQUARTERS.": GOSUB DELAY: CHAIN "EARTH.BAS"

PRINT "NOTHING HERE                                                      "
SOMETHING: RETURN

DELAY:
FOR DELAY = 1 TO 2000
BABBLE$ = INKEY$
NEXT DELAY
RETURN

