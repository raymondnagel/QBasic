COMMON X, Y, PASS, MED, COMPASS, WAND, ITEM, STAGE, LEVEL, EXPERIENCE, EX, GOLD, MAXIMUM, HITPOINTS, ARMOR$, WEAPON$, NAME$, BOSS$
SCREEN 13
IF STAGE = 1 THEN GOTO SHOP1
IF STAGE = 2 THEN IF X = 290 AND Y = 50 THEN GOTO SHOP5
IF STAGE = 2 THEN GOTO SHOP2
IF STAGE = 3 THEN GOTO SHOP3
IF STAGE = 4 THEN GOTO SHOP4
BUY:                                            
CLS
IF STAGE = 1 THEN LOCATE 2, 8: COLOR 2: PRINT "   "; : COLOR 8: PRINT "VILLAGE DEPOT "; : COLOR 2: PRINT "  ": COLOR1 = 8: COLOR2 = 2: GOTO 0
IF STAGE = 2 THEN IF X = 290 AND Y = 50 THEN LOCATE 2, 5: COLOR 10: PRINT "~ ~ ~ "; : COLOR 65: PRINT "ISLAND SECRET SHOP "; : COLOR 10: PRINT "~ ~ ~": COLOR1 = 65: COLOR2 = 10: GOTO 0
IF STAGE = 2 THEN LOCATE 2, 7: COLOR 14: PRINT "   "; : COLOR 3: PRINT "MERCHANT VESSEL "; : COLOR 14: PRINT "  ": COLOR1 = 3: COLOR2 = 14: GOTO 0
IF STAGE = 3 THEN LOCATE 2, 4: COLOR 10: PRINT "   "; : COLOR 6: PRINT "GOBLIN VILLAGE SURPLUS"; : COLOR 10: PRINT "   ": COLOR1 = 6: COLOR2 = 10: GOTO 0
IF STAGE = 4 THEN LOCATE 2, 11: COLOR 15: PRINT "   "; : COLOR 11: PRINT "SKY SHOP"; : COLOR 15: PRINT "   ": COLOR1 = 11: COLOR2 = 15: GOTO 0
0
PRINT : PRINT : PRINT
COLOR COLOR2: PRINT "ITEM", "   NO.#          PRICE"
COLOR COLOR1
1 IF ITEM1$ = "" THEN GOTO 2
PRINT : PRINT ITEM1$, "   1            "; PRICE1
2 IF ITEM2$ = "" THEN GOTO 3
PRINT : PRINT ITEM2$, "   2            "; PRICE2
3 IF ITEM3$ = "" THEN GOTO 4
PRINT : PRINT ITEM3$, "   3            "; PRICE3
4 IF ITEM4$ = "" THEN GOTO 5
PRINT : PRINT ITEM4$, "   4            "; PRICE4
5 IF ITEM5$ = "" THEN GOTO DONE
PRINT : PRINT ITEM5$, "   5            "; PRICE5
DONE:
PRINT : PRINT : COLOR 14: PRINT "YOU HAVE $"; GOLD: PRINT
COLOR COLOR1: PRINT "INPUT '0' TO EXIT."
INPUT "INPUT NO.# OF MERCHANDISE: ", WHICH
IF WHICH = 0 THEN GOTO LEAVE
IF WHICH = 1 THEN IF ITEM1$ <> "" THEN GOTO BUY1
IF WHICH = 2 THEN IF ITEM2$ <> "" THEN GOTO BUY2
IF WHICH = 3 THEN IF ITEM3$ <> "" THEN GOTO BUY3
IF WHICH = 4 THEN IF ITEM4$ <> "" THEN GOTO BUY4
IF WHICH = 5 THEN IF ITEM5$ <> "" THEN GOTO BUY5
BEEP: GOTO BUY

SHOP1:
ITEM2$ = "SLINGSHOT": PRICE2 = 6
ITEM3$ = "MEDICINE": PRICE3 = 20
ITEM4$ = "COMPASS": PRICE4 = 50
GOTO BUY

SHOP2:
ITEM1$ = "SOLDIERS MAIL": PRICE1 = 100
ITEM2$ = "BOW & ARROW": PRICE2 = 120
ITEM3$ = "MEDICINE": PRICE3 = 80
ITEM4$ = "COMPASS": PRICE4 = 200
GOTO BUY

SHOP3:
ITEM1$ = "DRAGON ARMOR": PRICE1 = 400
ITEM2$ = "HALBEARD": PRICE2 = 380
ITEM3$ = "MEDICINE": PRICE3 = 200
ITEM4$ = "COMPASS": PRICE4 = 500
GOTO BUY

SHOP4:
ITEM3$ = "MEDICINE": PRICE3 = 500
ITEM4$ = "COMPASS": PRICE4 = 999
GOTO BUY

SHOP5:
ITEM3$ = "MEDICINE": PRICE3 = 10
ITEM5$ = "WAND": PRICE5 = 999
GOTO BUY


BUY1:
COLOR COLOR2
IF GOLD < PRICE1 THEN BEEP: GOTO BUY
IF GOLD >= PRICE1 THEN GOLD = GOLD - PRICE1: ARMOR$ = ITEM1$
SOUND 600, 1: SOUND 200, 1: SOUND 400, 1: SOUND 600, 1
PRINT : PRINT "YOU BOUGHT A "; ITEM1$; "."
SLEEP 2: GOTO BUY

BUY2:
COLOR COLOR2
IF GOLD < PRICE2 THEN BEEP: GOTO BUY
IF GOLD >= PRICE2 THEN GOLD = GOLD - PRICE2: WEAPON$ = ITEM2$
SOUND 600, 1: SOUND 200, 1: SOUND 400, 1: SOUND 600, 1
PRINT : PRINT "YOU BOUGHT A "; ITEM2$; "."
SLEEP 2: GOTO BUY

BUY3:
COLOR COLOR2
IF GOLD < PRICE3 THEN BEEP: GOTO BUY
IF MED + 1 > 9 THEN BEEP: GOTO BUY
IF GOLD >= PRICE3 THEN GOLD = GOLD - PRICE3: MED = MED + 1
SOUND 600, 1: SOUND 200, 1: SOUND 400, 1: SOUND 600, 1
PRINT : PRINT "YOU BOUGHT A "; ITEM3$; "."
SLEEP 2: GOTO BUY

BUY4:
COLOR COLOR2
IF GOLD < PRICE4 THEN BEEP: GOTO BUY
IF GOLD >= PRICE4 THEN GOLD = GOLD - PRICE4: COMPASS = 1
SOUND 600, 1: SOUND 200, 1: SOUND 400, 1: SOUND 600, 1
PRINT : PRINT "YOU BOUGHT A "; ITEM4$; "."
SLEEP 2: GOTO BUY

BUY5:
COLOR COLOR2
IF GOLD < PRICE5 THEN BEEP: GOTO BUY
IF GOLD >= PRICE5 THEN GOLD = GOLD - PRICE5: WAND = 1
SOUND 600, 1: SOUND 200, 1: SOUND 400, 1: SOUND 600, 1
PRINT : PRINT "YOU BOUGHT A "; ITEM5$; "."
SLEEP 2: GOTO BUY

LEAVE:
CLS
IF STAGE = 1 THEN CHAIN "LAND.LEV"
IF STAGE = 2 THEN IF X = 290 AND Y = 50 THEN LOCATE 2, 1: COLOR 14: PRINT "YOU CLIMB OUT OF THE PIT...": SLEEP 3
IF STAGE = 2 THEN CHAIN "SEA.LEV"
IF STAGE = 3 THEN CHAIN "EARTH.LEV"
IF STAGE = 4 THEN CHAIN "SKY.LEV"

